<div class="new-header">
    {% include notification.html %}
    {% include_remote {{ site.origin }}/_docs/menu.html css="body > *" %}

    <div class="top-bar">
        <div>
            <div class="versions">
                <div class="dropdown">
                    TinyMCE v5
                    <div class="dropdown-arrow"></div>
                    <div class="dropdown-options">
                        <a class="link-gelato" href="/docs/">TinyMCE v5</a>
                        <a class="link-gelato" href="/docs-4x/">TinyMCE v4</a>
                        <a class="link-gelato" href="/docs-3x/">TinyMCE v3</a>
                    </div>
                </div>
            </div>
            <div class="breadcrumbs" itemscope itemtype="https://schema.org/BreadcrumbList">
                {% include breadcrumbs.html %}
            </div>
            <div class="search">
                <input type="text" name="seach" value="" id="searchInput" placeholder="Search in documentation" tabindex="1">
            </div>
        </div>
    </div>

</div>

<div class="main {{ page.type }} {{ page.class }}">
    <aside class="side-nav">
        <div id="side-nav-controller">Expand Menu</div>
        {% assign nav = site.data.nav | array_concat:site.data.nav_api %}
        {% include nav.html links=nav preceding_address="/" %}
    </aside>

    <main>
        <div class="heading">
            <h1 class="light">{{ page.title }}</h1>
            <h2 class="light">{{ page.description }}</h2>
            {% if page.url contains '/api/' %}
            <!-- Disabled since there is no git link -->
            {% else %}
            <a class="contribute link-garlic" href="https://github.com/tinymce/tinymce-docs/tree/master/{{ page.path }}">Contribute to this page<i></i></a>
            {% endif %}
            {% if page.controls %}
            {% assign controls = page.controls | split:',' %}
            <div class="badges">
                {% for control in controls %}<span class="badge-naan lg">+ {{ control }}</span> {% endfor %}
            </div>
            {% endif %}
        </div>

        <div class="content">
            {{ content }}
            {% include feedback.html %}
            <p class="let-us-know">
                Can't find what you're looking for?
                <a href="#" data-modal="let-us-know">
                    Let us know.
                </a>
            </p>
            {% include license.html %}
        </div>
    </main>

</div>

{% include_remote {{ site.origin }}/_docs/footer.html css="body > *" %}
<script src="{{ site.shared_baseurl }}/scripts/common.min.js"></script>
<script src="{{ site.shared_baseurl }}/scripts/docs.min.js"></script>

<script>
  $("#side-nav-controller").on("click", function () {
    $("aside > ul").toggle();
    if ($("aside > ul").is(":visible")) {
      $("#side-nav-controller").text('Collapse Menu');
      hideAllButActive();
    } else {
      $("#side-nav-controller").text('Expand Menu');
    }
  });

  var visible = [];
  $(document).ready(function() {
    visible = [];
    $("aside > ul > li > ul").each(function(index) {
      if ($(this).is(":visible")) {
        visible.push(index);
      }
    });
    if ($(document).width() < 1126) {
      switchToMobile();
    }
  });

  var sizeTest = window.matchMedia("(max-width: 1126px)");
  sizeTest.addListener(function(size) {
    if (size.matches) {
      $("aside > ul > li > ul").each(function(index) {
        if ($(this).is(":visible") && visible.indexOf(index) < 0) {
          visible.push(index);
        }
      });
      switchToMobile();
    } else {
      $("#side-nav-controller").hide();
      $("aside > ul").show();
      $("aside > ul > li > ul").each(function(index) {
        if (visible.indexOf(index) > -1) {
          $(this).show();
        }
      });
    }
  });

  function switchToMobile() {
    $("#side-nav-controller").show();
    $("aside > ul").hide();
    hideAllButActive();
  }

  function hideAllButActive() {
    $("aside > ul > li").each(function(index) {
      if (!$(this).hasClass("active")) {
        $(this).children().eq(1).hide();
      }
    });
  }
</script>

<style type="text/css">
    #side-nav-controller {
        font-size: 16px;
        color: #1976d2;
        padding: 13px 0;
        cursor: pointer;
        background: #FFFFFF;
        border-bottom: 1px solid #dfdfdf;
        font-weight: 600;
        display: none;
    }

    @media screen and (max-width: 1126px) {
        .main {
            padding-top: 52px !important;
        }
        aside {
            padding-top: 56px;
        }
    }

    @media screen and (max-width: 850px) {
        aside {
            padding-top: 40px !important;
        }
    }
</style>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
    docsearch({
        apiKey: 'd70977481e4a0b72eacaec1533b2d81b',
        indexName: 'tiny',
        inputSelector: '#searchInput',
        algoliaOptions: { 'facetFilters': ["tags:docs"] },
        debug: true
    });
</script>